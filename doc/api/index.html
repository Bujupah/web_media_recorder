<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="generator" content="made with love by dartdoc 0.30.0">
  <meta name="description" content="web_media_recorder API docs, for the Dart programming language.">
  <title>web_media_recorder - Dart API docs</title>

  
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">
  <!-- header placeholder -->
</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/bujupah/web_media_recorder">web_media_recorder package</a></li>
  </ol>
  <div class="self-name">web_media_recorder</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="https://github.com/bujupah/web_media_recorder">web_media_recorder package</a></li>
    </ol>
    
    <h5 class="hidden-xs"><span class="package-name">web_media_recorder</span> <span class="package-kind">package</span></h5>
    <ol>
          <li class="section-title">Libraries</li>
          <li><a href="web_media_recorder/web_media_recorder-library.html">web_media_recorder</a></li>
          <li class="section-title">Dart</li>
          <li><a href="dart-ui/dart-ui-library.html">dart:ui</a></li>
          <li class="section-subtitle">Core</li>
            <li class="section-subitem"><a href="dart-async/dart-async-library.html">dart:async</a></li>
            <li class="section-subitem"><a href="dart-collection/dart-collection-library.html">dart:collection</a></li>
            <li class="section-subitem"><a href="dart-convert/dart-convert-library.html">dart:convert</a></li>
            <li class="section-subitem"><a href="dart-core/dart-core-library.html">dart:core</a></li>
            <li class="section-subitem"><a href="dart-developer/dart-developer-library.html">dart:developer</a></li>
            <li class="section-subitem"><a href="dart-math/dart-math-library.html">dart:math</a></li>
            <li class="section-subitem"><a href="dart-typed_data/dart-typed_data-library.html">dart:typed_data</a></li>
          <li class="section-subtitle">VM</li>
            <li class="section-subitem"><a href="dart-ffi/dart-ffi-library.html">dart:ffi</a></li>
            <li class="section-subitem"><a href="dart-io/dart-io-library.html">dart:io</a></li>
            <li class="section-subitem"><a href="dart-isolate/dart-isolate-library.html">dart:isolate</a></li>
          <li class="section-subtitle">Web</li>
            <li class="section-subitem"><a href="dart-html/dart-html-library.html">dart:html</a></li>
            <li class="section-subitem"><a href="dart-js/dart-js-library.html">dart:js</a></li>
            <li class="section-subitem"><a href="dart-js_util/dart-js_util-library.html">dart:js_util</a></li>
    </ol>
  </div>

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <section class="desc markdown">
        <h1 id="web-media-recording">Web Media Recording</h1>
<p>A library to implement the browser <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder">MediaRecorder</a> native features into the flutter web.</p>
<h2 id="usage">Usage</h2>
<pre class="language-dart"><code class="language-dart">  // Variables needed
  WebRecorder webRecorder;
  bool isRecording;
  
  // Usually initialized in initState
  webRecorder = WebRecorder(
    whenRecorderStart: whenRecorderStart,
    whenRecorderStop: whenRecorderStop,
    whenReceiveData: receiveData
  );
  
  // To be used to start/stop recording
  webRecorder.openRecorder(); 
  
  // A function that will return the audio data as Uint8List
  receiveData(data){
    print(data);
  }
  
  //Will give you the possibility to toggle a START/STOP Button
  whenRecorderStart(){
    print('Recorder Started');
    setState(() {}); 
  }
  whenRecorderStop(){
    print('Recorder Stopped'); 
    setState(() {}); 
  }
}

</code></pre>
<h2 id="installation">Installation</h2>
<p>Add this dependency your pubspec.yaml file:</p>
<pre class="language-dart"><code>dependencies:
  web_media_recorder: ^0.0.1
</code></pre>
<p>For more info visit <a href="https://pub.dev/packages/web_media_recorder">pub.dev</a>.</p>
<h2 id="features-and-bugs">Features and bugs</h2>
<p>Please file feature requests and bugs at the <a href="https://github.com/bujupah/web_media_recorder/issues">issue tracker</a>.</p>
<h2 id="if-you-wanna-see-my-high-level-iq-functions-go-deeper">If you wanna see my high level IQ functions go deeper</h2>
<pre class="language-dart"><code class="language-dart">
import 'dart:async';
import 'dart:html' as html;
import 'dart:js' as js;

import 'package:flutter/material.dart';

class WebRecorder {
  static bool isNotRecording = true;
  static html.AudioElement audioElement;
  static html.MediaRecorder recorder;

  final Function whenRecorderStart; // Function to call when recording starts
  final Function whenRecorderStop; // Function to call when recording finishs
  final Function whenReceiveData;

  WebRecorder({
      @required this.whenRecorderStart, 
      @required this.whenRecorderStop, 
      @required this.whenReceiveData
  }){
    WebRecorder.audioElement = html.AudioElement();
  }

  openRecorder(){
    WebRecorder.isNotRecording = !WebRecorder.isNotRecording;
    if(WebRecorder.isNotRecording)
      stopRecoring().whenComplete(whenRecorderStop);
    else
      html.window.navigator
      .getUserMedia(audio: true)
      .then((stream) {
          recorder = html.MediaRecorder(stream);
          recorder.addEventListener('dataavailable', hundlerFunctionStream);
      })
      .whenComplete((){
        startRecording().whenComplete(whenRecorderStart);
      })
      .catchError((e)=&gt; print);
  }
  
  Future&lt;void&gt; startRecording(){
    WebRecorder.recorder.start();
    return Future.value(true);
  }

  Future&lt;void&gt; stopRecoring() async{
    WebRecorder.recorder.stop();
    return Future.value(true);
  }

  hundlerFunctionStream(event) async{
    html.FileReader reader = html.FileReader();
    html.Blob blob = js.JsObject.fromBrowserObject(event)['data'];
    reader.readAsArrayBuffer(blob);
    reader.onLoadEnd.listen((e) async {
      setData(reader.result);
    });
  }

  setData(data) =&gt; whenReceiveData(data);

  dispose(){
    WebRecorder.audioElement = null;
    WebRecorder.recorder.removeEventListener('dataavailable', hundlerFunctionStream);
    WebRecorder.recorder = null;
  }
}

</code></pre>
<h2 id="negative-iq-right---">Negative IQ right ? üòÇ üòÇ</h2>
<p>Do not forget to pull request into the repo if you see there is some lines of code must be changed, It would be my pleasure ‚ù§Ô∏è</p>
<h2 id="getting-started">Getting Started</h2>
<p>This project is a starting point for a Dart
<a href="https://flutter.dev/developing-packages/">package</a>,
a library module containing code that can be shared easily across
multiple Flutter or Dart projects.</p>
<p>For help getting started with Flutter, view our 
<a href="https://flutter.dev/docs">online documentation</a>, which offers tutorials, 
samples, guidance on mobile development, and a full API reference.</p>
      </section>
      
        <section class="summary">
            <h2>Libraries</h2>
          <dl>
            <dt id="web_media_recorder">
              <span class="name"><a href="web_media_recorder/web_media_recorder-library.html">web_media_recorder</a></span>             
            </dt>
            <dd>
               
            </dd>
          </dl>
        </section>
        <section class="summary">
            <h2>Dart</h2>
          <dl>
            <dt id="dart:ui">
              <span class="name"><a href="dart-ui/dart-ui-library.html">dart:ui</a></span>             
            </dt>
            <dd>
              Built-in types and core primitives for a Flutter application. <a href="dart-ui/dart-ui-library.html">[...]</a>
            </dd>
            <h3>Core</h3>
              <dt id="dart:async">
                <span class="name"><a href="dart-async/dart-async-library.html">dart:async</a></span>               
              </dt>
              <dd>
                Support for asynchronous programming,
with classes such as Future and Stream. <a href="dart-async/dart-async-library.html">[...]</a>
              </dd>
              <dt id="dart:collection">
                <span class="name"><a href="dart-collection/dart-collection-library.html">dart:collection</a></span>               
              </dt>
              <dd>
                Classes and utilities that supplement the collection support in dart:core. <a href="dart-collection/dart-collection-library.html">[...]</a>
              </dd>
              <dt id="dart:convert">
                <span class="name"><a href="dart-convert/dart-convert-library.html">dart:convert</a></span>               
              </dt>
              <dd>
                Encoders and decoders for converting between different data representations,
including JSON and UTF-8. <a href="dart-convert/dart-convert-library.html">[...]</a>
              </dd>
              <dt id="dart:core">
                <span class="name"><a href="dart-core/dart-core-library.html">dart:core</a></span>               
              </dt>
              <dd>
                Built-in types, collections,
and other core functionality for every Dart program. <a href="dart-core/dart-core-library.html">[...]</a>
              </dd>
              <dt id="dart:developer">
                <span class="name"><a href="dart-developer/dart-developer-library.html">dart:developer</a></span>               
              </dt>
              <dd>
                Interact with developer tools such as the debugger and inspector. <a href="dart-developer/dart-developer-library.html">[...]</a>
              </dd>
              <dt id="dart:math">
                <span class="name"><a href="dart-math/dart-math-library.html">dart:math</a></span>               
              </dt>
              <dd>
                Mathematical constants and functions, plus a random number generator. <a href="dart-math/dart-math-library.html">[...]</a>
              </dd>
              <dt id="dart:typed_data">
                <span class="name"><a href="dart-typed_data/dart-typed_data-library.html">dart:typed_data</a></span>               
              </dt>
              <dd>
                Lists that efficiently handle fixed sized data
(for example, unsigned 8 byte integers) and SIMD numeric types. <a href="dart-typed_data/dart-typed_data-library.html">[...]</a>
              </dd>
            <h3>VM</h3>
              <dt id="dart:ffi">
                <span class="name"><a href="dart-ffi/dart-ffi-library.html">dart:ffi</a></span>               
              </dt>
              <dd>
                Foreign Function Interface for interoperability with the C programming language. <a href="dart-ffi/dart-ffi-library.html">[...]</a>
              </dd>
              <dt id="dart:io">
                <span class="name"><a href="dart-io/dart-io-library.html">dart:io</a></span>               
              </dt>
              <dd>
                File, socket, HTTP, and other I/O support for non-web applications. <a href="dart-io/dart-io-library.html">[...]</a>
              </dd>
              <dt id="dart:isolate">
                <span class="name"><a href="dart-isolate/dart-isolate-library.html">dart:isolate</a></span>               
              </dt>
              <dd>
                Concurrent programming using <em>isolates</em>:
independent workers that are similar to threads
but don't share memory,
communicating only via messages. <a href="dart-isolate/dart-isolate-library.html">[...]</a>
              </dd>
            <h3>Web</h3>
              <dt id="dart:html">
                <span class="name"><a href="dart-html/dart-html-library.html">dart:html</a></span>               
              </dt>
              <dd>
                HTML elements and other resources for web-based applications that need to
interact with the browser and the DOM (Document Object Model). <a href="dart-html/dart-html-library.html">[...]</a>
              </dd>
              <dt id="dart:js">
                <span class="name"><a href="dart-js/dart-js-library.html">dart:js</a></span>               
              </dt>
              <dd>
                Low-level support for interoperating with JavaScript. <a href="dart-js/dart-js-library.html">[...]</a>
              </dd>
              <dt id="dart:js_util">
                <span class="name"><a href="dart-js_util/dart-js_util-library.html">dart:js_util</a></span>               
              </dt>
              <dd>
                Utility methods to efficiently manipulate typed JSInterop objects in cases
where the name to call is not known at runtime. You should only use these
methods when the same effect cannot be achieved with @JS annotations.
These methods would be extension methods on JSObject if Dart supported
extension methods. 
              </dd>
          </dl>
        </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div>

</main>

<footer>
  <span class="no-break">
    web_media_recorder
      0.0.1
  </span>

  <!-- footer-text placeholder -->
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>
<!-- footer placeholder -->

</body>

</html>
